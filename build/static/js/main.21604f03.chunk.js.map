{"version":3,"sources":["components/main/header/HeaderContainer.module.css","api/auth.js","redux/reducers/auth.js","serviceWorker.js","components/main/header/header/Header.jsx","components/main/header/HeaderContainer.jsx","components/main/content/Content.jsx","components/main/sidebar/navbar/navLink/NavLinkItem.jsx","components/main/sidebar/navbar/Navbar.jsx","components/common/friendItem/FriendItem.jsx","components/main/sidebar/friendsBlock/FriendsBlock.jsx","components/main/sidebar/SidebarContainer.jsx","redux/reducers/app.js","App.js","redux/reducers/sidebarReducer.js","redux/store.js","index.js","components/common/preLoader/PreLoader.jsx","assets/images/profileAvatar.png","components/main/header/header/Header.module.css","components/main/sidebar/navbar/Navbar.module.css","components/main/sidebar/navbar/navLink/NavLinkItem.module.css","components/common/friendItem/FriendItem.module.css","components/common/avatar/Avatar.jsx","api/profile.js","redux/reducers/profileReducer.js","redux/reducers/dialogsReducer.js","api/instance.js","api/follow.js","api/users.js","utils/items-helpers.js","redux/reducers/usersReducer.js","components/main/content/Content.module.css","components/common/preLoader/PreLoader.module.css","components/main/sidebar/SidebarContainer.module.css","components/main/sidebar/friendsBlock/FriendsBlock.module.css","components/common/avatar/Avatar.module.css"],"names":["module","exports","instance","get","formData","post","delete","initialState","email","login","id","isAuth","setAuthData","data","type","setIsAuth","flag","authMe","dispatch","a","authAPI","resultCode","then","catch","stopSubmit","_error","errors","nointernet","logout","auth","state","Boolean","window","location","hostname","match","Header","userUrl","className","s","header","href","src","alt","blockRight","onClick","to","HeaderContainer","this","props","React","Component","connect","UsersContainer","lazy","DialogsContainer","ProfileContainer","LoginContainer","Content","ProfilePage","content","fallback","PreLoader","exact","path","render","NavLinkItem","linkItem","name","navLinkItem","activeClassName","active","Navbar","navElements","links","map","key","listItem","nav","FriendItem","friendItem","wrapAvatar","Avatar","FriendsBlock","friendsElements","friends","friendsBlock","sidebarReducer","navBar","aside","isAppInitialized","app","App","setIsAppInitialized","reducers","combineReducers","profileReducer","dialogsReducer","usersReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message","preLoader","image","defaultAvatar","status","put","ADD_POST","profile","posts","author","likesCount","addPost","postText","setUserProfile","getProfile","profileAPI","getStatus","updateStatus","log","textareaValue","dialogs","dialog","interlocutor","messages","sendMessage","messageText","axios","baseURL","count","page","changeItemByPropName","arr","propName","obj","item","FOLLOW","users","currentPage","itemsPerPage","totalItemsCount","isDataFetching","isFollowingFetching","followingFetchingList","followAC","unfollowAC","setUsers","setCurrentPage","setDataFetching","setIsFollowingFetching","followUnfollowFlow","apiMethod","actionCreator","follow","followAPI","unfollow","fetchUsers","userAPI","items","totalCount","followed","filter"],"mappings":"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","file":"static/js/main.21604f03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"HeaderContainer_header__2oTYS\"};","import instance from \"./instance\";\n\nexport default {\n    me: () => instance.get(`auth/me`),\n    login: (formData) => instance.post(`auth/login`, formData),\n    logout: () => instance.delete(`auth/login`),\n};","import authAPI from \"../../api/auth\";\nimport {stopSubmit} from \"redux-form\";\nimport errors from '../../assets/dictonary/errors.json';\n\nconst SET_AUTH_DATA = 'auth/SET_AUTH_DATA';\nconst SET_IS_AUTH = 'auth/SET_IS_AUTH';\n\nconst initialState = {\n    email: null,\n    login: null,\n    id: null,\n    isAuth: false,\n};\n\nconst auth = (state = initialState, {type, data}) => {\n    switch (type) {\n        case SET_AUTH_DATA:\n            return {\n                ...state,\n                ...data,\n            };\n        case SET_IS_AUTH:\n            return {\n                ...state,\n                isAuth: data.flag,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const setAuthData = (data) => {\n  return {\n      type: SET_AUTH_DATA,\n      data,\n  };\n};\nexport const setIsAuth = (flag) => {\n  return {\n      type: SET_IS_AUTH,\n      flag,\n  };\n};\n\nexport const authMe = () => async (dispatch) => {\n    const { data } = await authAPI.me();\n\n    if(data.resultCode === 0) {\n        const {\n            id,\n            login,\n            email,\n        } = data.data;\n\n        dispatch(\n            setAuthData({\n                id,\n                login,\n                email,\n            })\n        );\n        dispatch( setIsAuth(true) );\n    }\n};\nexport const login = () => (dispatch) => {\n    authAPI.login()\n        .then(({data}) => {\n            if(data.resultCode === 0) {\n                const {\n                    id,\n                    login,\n                    email,\n                } = data.data;\n\n                dispatch(\n                    setAuthData({\n                        id,\n                        login,\n                        email,\n                    })\n                );\n                dispatch( setIsAuth(true) );\n            }\n        })\n        .catch(() => {\n            dispatch(stopSubmit('login', {\n                _error:  errors.nointernet,\n            }));\n        });\n};\nexport const logout = () => async (dispatch) => {\n    await authAPI.logout();\n\n    const {\n        id,\n        login,\n        email,\n        isAuth,\n    } = initialState;\n\n    dispatch(\n        setAuthData({\n            id,\n            login,\n            email,\n        })\n    );\n    dispatch( setIsAuth(isAuth) );\n};\n\nexport default auth;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached profile has been fetched,\n              // but the previous service worker will still serve the older\n              // profile until all client tabs are closed.\n              console.log(\n                'New profile is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" messageItem.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = ({login, id, isAuth, logout}) => {\n    const userUrl = `/profile/${id}`;\n\n    return (\n        <header className={s.header}>\n            <div>\n                <a href=\"/\">\n                    <img\n                        src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/White_flag_icon.svg/1200px-White_flag_icon.svg.png\"\n                        alt=\"Logotype\"\n                    />\n                </a>\n            </div>\n            <div className={s.blockRight}>\n                {isAuth && <div><a href={userUrl}>{ login }</a> - <button onClick={logout}>Logout</button></div>}\n                {!isAuth && <NavLink to=\"/login\">Login</NavLink>}\n            </div>\n        </header>\n    );\n};\n\nexport default Header;\n","import React from 'react';\nimport s from './HeaderContainer.module.css';\nimport Header from \"./header/Header\";\nimport {connect} from \"react-redux\";\nimport {\n    authMe, logout,\n} from \"../../../redux/reducers/auth\";\n\nclass HeaderContainer extends React.Component {\n    componentDidMount() {\n        this.props.authMe();\n    }\n\n    render() {\n        const {\n            login,\n            id,\n            logout,\n        } = this.props;\n\n        return (\n            <Header\n                login={login}\n                id={id}\n                logout={logout}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = ({auth}) => ({\n    login: auth.login,\n    id: auth.id,\n    isAuth: auth.isAuth,\n});\n\nexport default connect(mapStateToProps, {\n    authMe,\n    logout,\n})(HeaderContainer);\n","import React, { Suspense } from 'react';\nimport s from './Content.module.css';\nimport {Route} from \"react-router-dom\";\nimport PreLoader from \"../../common/preLoader/PreLoader\";\n\nconst UsersContainer = React.lazy(() => import('../../pages/users/UsersContainer'));\nconst DialogsContainer = React.lazy(() => import('../../pages/dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('../../pages/profile/ProfileContainer'));\nconst LoginContainer = React.lazy(() => import('../../pages/login/LoginContainer'));\n\nconst Content = () => {\n    const ProfilePage = () => <ProfileContainer/>;\n    const DialogsPage = () => <DialogsContainer/>;\n    const UsersPage = () => <UsersContainer/>;\n    const LoginPage = () => <LoginContainer/>;\n\n    return (\n        <div className={s.content}>\n            <Suspense fallback={PreLoader}>\n                <Route\n                    exact\n                    path=\"/\"\n                    render={ProfilePage}\n                />\n                <Route\n                    exact\n                    path=\"/login\"\n                    render={LoginPage}\n                />\n                <Route\n                    path=\"/profile/:userId?\"\n                    render={ProfilePage}\n                />\n                <Route\n                    path=\"/dialogs\"\n                    render={DialogsPage}\n                />\n                <Route\n                    path=\"/users\"\n                    render={UsersPage}\n                />\n            </Suspense>\n        </div>\n    );\n};\n\nexport default Content;\n","import React from 'react';\nimport s from './NavLinkItem.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst NavLinkItem = ({linkItem}) => {\n    const {\n        to,\n        name,\n    } = linkItem;\n\n    return (\n        <NavLink\n            to={to}\n            className={s.navLinkItem}\n            activeClassName={s.active}\n        >{name}</NavLink>\n    );\n};\n\nexport default NavLinkItem;\n","import React from 'react';\nimport s from './Navbar.module.css';\nimport NavLinkItem from \"./navLink/NavLinkItem\";\n\nconst Navbar = ({state}) => {\n    const {\n        links,\n    } = state;\n\n    const navElements =links.map((linkItem, key) => (\n        <li\n            className={s.listItem}\n            key={key}\n        >\n            <NavLinkItem\n                linkItem={linkItem}\n            />\n        </li>\n    ));\n\n    return (\n        <nav className={s.nav}>\n            <h3>Navigation</h3>\n            <ul>\n                { navElements }\n            </ul>\n        </nav>\n    );\n};\n\nexport default Navbar;\n","import React from 'react';\nimport s from './FriendItem.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport defaultAvatar from '../../../assets/images/profileAvatar.png';\nimport Avatar from \"../avatar/Avatar\";\n\nconst FriendItem = ({friendItem}) => {\n    const {\n        id,\n        name,\n    } = friendItem;\n    const path = `/profile/${id}`;\n\n    return (\n        <div\n            className={s.friendItem}\n        >\n            <NavLink\n                to={path}\n            >\n                <div className={s.wrapAvatar}>\n                    <Avatar/>\n                </div>\n                <span>{name}</span>\n            </NavLink>\n        </div>\n    );\n};\n\nexport default FriendItem;\n","import React from 'react';\nimport s from './FriendsBlock.module.css';\nimport FriendItem from \"../../../common/friendItem/FriendItem\";\n\nconst FriendsBlock = ({state}) => {\n    const {\n        friends,\n    } = state;\n\n    const friendsElements = friends.map((friendItem, key) => (\n        <li key={key}>\n            <FriendItem\n                friendItem={friendItem}\n            />\n        </li>\n    ));\n\n    return (\n        <div className={s.friendsBlock}>\n            <h3>Friends</h3>\n            <ul>\n                { friendsElements }\n            </ul>\n        </div>\n\n    );\n};\n\nexport default FriendsBlock;\n","import React from 'react';\nimport s from './SidebarContainer.module.css';\nimport Navbar from \"./navbar/Navbar\";\nimport FriendsBlock from \"./friendsBlock/FriendsBlock\";\nimport {connect} from \"react-redux\";\n\nconst SidebarContainer = ({navBar, friendsBlock}) => {\n    return (\n        <aside className={s.aside}>\n            <Navbar state={navBar}/>\n            <FriendsBlock state={friendsBlock}/>\n        </aside>\n    );\n};\n\nconst mapStateToProps = ({sidebarReducer}) => ({\n    navBar: sidebarReducer.navBar,\n    friendsBlock: sidebarReducer.friendsBlock,\n});\n\nexport default connect(mapStateToProps, {})(SidebarContainer);\n","const SET_IS_APP_INITIALIZED = 'app/SET-IS-APP-INITIALIZED';\n\nconst initialState = {\n    isAppInitialized: true,\n    errors: [],\n};\n\nconst app = (state = initialState, {type, data}) => {\n    switch (type) {\n        case SET_IS_APP_INITIALIZED:\n            return {\n                ...state,\n                isAppInitialized: data.flag,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport const setIsAppInitialized = (flag) => {\n  return {\n      type: SET_IS_APP_INITIALIZED,\n      data: {\n          flag,\n      },\n  };\n};\n\nexport default app;","import React from 'react';\nimport './App.css';\n\nimport HeaderContainer from \"./components/main/header/HeaderContainer\";\nimport Content from \"./components/main/content/Content.jsx\";\nimport Sidebar from \"./components/main/sidebar/SidebarContainer\";\n\nimport {\n    BrowserRouter,\n} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {setIsAppInitialized} from \"./redux/reducers/app\";\nimport PreLoader from \"./components/common/preLoader/PreLoader\";\nimport {authMe} from \"./redux/reducers/auth\";\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.authMe()\n            .then(() => {\n                this.props.setIsAppInitialized(true);\n            })\n    }\n\n    render() {\n        if( !this.props.isAppInitialized ) {\n            return <PreLoader/>\n        }\n\n        return (\n            <BrowserRouter>\n                <div className=\"main-wrap\">\n                    <HeaderContainer/>\n                    <Sidebar/>\n                    <Content/>\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n\nconst mapStateToProps = ({app}) => ({\n    isAppInitialized: app.isAppInitialized,\n})\n\nexport default connect(mapStateToProps, {\n    setIsAppInitialized,\n    authMe,\n})(App);\n","const initialState = {\n    navBar: {\n        links: [\n            {\n                to: '/profile',\n                name: 'Profile',\n            },\n            {\n                to: '/dialogs',\n                name: 'Messages',\n            },\n            {\n                to: '/users',\n                name: 'Users',\n            },\n        ],\n    },\n    friendsBlock: {\n        friends: [\n            {\n                id: 1,\n                name: 'Dmitry',\n            },\n            {\n                id: 2,\n                name: 'Ti',\n            },\n        ]\n    },\n};\n\nconst sidebarReducer = (state = initialState, {type, data}) => {\n    return state;\n};\n\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\n\nimport profileReducer from \"./reducers/profileReducer\";\nimport dialogsReducer from \"./reducers/dialogsReducer\";\nimport sidebarReducer from \"./reducers/sidebarReducer\";\nimport usersReducer from \"./reducers/usersReducer\";\nimport auth from \"./reducers/auth\";\nimport app from \"./reducers/app\";\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form'\n\nlet reducers = combineReducers({\n    profileReducer,\n    dialogsReducer,\n    sidebarReducer,\n    usersReducer,\n    auth,\n    app,\n    form: formReducer,\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunkMiddleware)\n));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\n\nimport App from './App';\n\nimport store from \"./redux/store\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\nimport s from './PreLoader.module.css';\n\nconst PreLoader = () => {\n    return (\n        <div className={s.preLoader}>\n            LOADING...\n        </div>\n    );\n};\n\nexport default PreLoader;\n","module.exports = __webpack_public_path__ + \"static/media/profileAvatar.c9041f3f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__hE6Vz\",\"blockRight\":\"Header_blockRight__3_vq1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3WIx8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLinkItem\":\"NavLinkItem_navLinkItem__mEIwt\",\"active\":\"NavLinkItem_active__pi9Ng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendItem\":\"FriendItem_friendItem__1jmse\",\"wrapAvatar\":\"FriendItem_wrapAvatar__101pr\"};","import React from 'react';\nimport s from './Avatar.module.css';\nimport defaultAvatar from '../../../assets/images/profileAvatar.png';\n\nconst Avatar = ({image = null}) => {\n    return (\n        <div className={s.wrapAvatar}>\n            <img\n                src={image || defaultAvatar}\n                alt=\"Avatar\"\n            />\n        </div>\n    );\n};\n\nexport default Avatar;\n","import instance from \"./instance\";\n\nexport default {\n    getProfile: (id) => instance.get(`profile/${id}`),\n    getStatus: (id) => instance.get(`profile/status/${id}`),\n    updateStatus: (status) => instance.put(`profile/status?status=${status}`),\n};","import profileAPI from \"../../api/profile\";\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\nconst SET_USER_STATUS = 'profile/SET-USER-STATUS';\n\nlet initialState = {\n    profile: null,\n    status: '',\n    posts: [\n        {\n            message: 'I don\\'t take this too seriously!',\n            author: 'Dmitry',\n            likesCount: 12,\n        },\n        {\n            message: 'No way!',\n            author: 'Dmitry',\n            likesCount: 55,\n        },\n    ],\n};\n\nconst profileReducer = (state = initialState, {type, data}) => {\n    switch (type) {\n        case ADD_POST: {\n            const message = data.postText;\n\n            return {\n                ...state,\n                textareaValue: '',\n                posts: [\n                    {\n                        id: 5,\n                        message,\n                        author: 'Dmitry',\n                        likesCount: 5,\n                    },\n                    ...state.posts,\n                ],\n            };\n        }\n        case SET_USER_PROFILE: {\n            const {profile} = data;\n\n            return {\n                ...state,\n                profile,\n            };\n        }\n        case SET_USER_STATUS: {\n            const {status} = data;\n\n            return {\n                ...state,\n                status,\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport const addPost = (postText) => ({\n    type: ADD_POST,\n    data: {\n        postText,\n    },\n});\nexport const setUserProfile = (profile) => ({\n    type: SET_USER_PROFILE,\n    data: {\n        profile,\n    },\n});\nexport const setUserStatus = (status) => ({\n    type: SET_USER_STATUS,\n    data: {\n        status,\n    },\n});\n\nexport const getProfile = (id) => async (dispatch) => {\n    const { data } = await profileAPI.getProfile(id);\n\n    dispatch( setUserProfile(data) );\n};\nexport const getStatus = (id) => async (dispatch) => {\n    const { data } = await profileAPI.getStatus(id);\n\n    dispatch( setUserStatus(data) );\n};\nexport const updateStatus = (id) => async (dispatch) => {\n    const { data } = await profileAPI.updateStatus(id);\n    console.log(data)\n    // dispatch( setUserStatus(data) );\n};\nexport default profileReducer;","const SEND_MESSAGE = 'dialog/SEND-MESSAGE';\n\nconst initialState = {\n    dialogs: [\n        {\n            name: 'Ti',\n            id: 1,\n            message: 'What\\'s the point?',\n        },\n        {\n            name: 'Kony',\n            id: 2,\n            message: 'Need this asap.',\n        }\n    ],\n    dialog: {\n        id: 1,\n        interlocutor: 'Ti',\n        messages: [\n            {\n                message: 'This is rather a suggestive comment',\n                author: 'Dmitry',\n            },\n            {\n                message: 'You are lucky!',\n                author: 'Ti',\n            },\n            {\n                message: 'What\\'s the point?',\n                author: 'Dmitry',\n            },\n        ],\n    },\n};\n\nconst dialogsReducer = (state = initialState, {type, data}) => {\n    switch (type) {\n        case SEND_MESSAGE: {\n            const message = data.messageText;\n\n            return {\n                ...state,\n                textareaValue: '',\n                dialog: {\n                    ...state.dialog,\n                    messages: [\n                        ...state.dialog.messages,\n                        {\n                            message,\n                            author: 'Dmitry',\n                        },\n                    ],\n                },\n            };\n        }\n        default:\n            return state;\n    }\n};\n\nexport const sendMessage = (messageText) => ({\n    type: SEND_MESSAGE,\n    data: {\n        messageText,\n    },\n});\nexport default dialogsReducer;","import * as axios from \"axios\";\n\nexport default axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.0',\n    // withCredentials: true,\n    // headers: {\n    //     'API-KEY': 'some-key',\n    // },\n});","import instance from \"./instance\";\n\nexport default {\n    follow: (id) => instance.post(`/follow/${id}`),\n    unfollow: (id) => instance.delete(`/follow/${id}`),\n};","import instance from \"./instance\";\n\nexport default {\n    getUsers: (count, page) => instance.get(`users?count=${count}&page=${page}`),\n};","export const changeItemByPropName = (arr, propName, id, obj) => arr.map((item) => {\n    if(item[propName] === id) {\n        return {\n            ...item,\n            ...obj,\n        };\n    }\n\n    return item;\n})","import followAPI from \"../../api/follow\";\nimport userAPI from \"../../api/users\";\nimport {changeItemByPropName} from \"../../utils/items-helpers\";\n\nconst FOLLOW = 'users/FOLLOW';\nconst UNFOLLOW = 'users/UNFOLLOW';\nconst SET_USERS = 'users/SET-USERS';\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\nconst SET_ITEMS_PER_PAGE = 'users/SET-ITEMS-PER-PAGE';\nconst SET_TOTAL_ITEMS_COUNT = 'users/SET-TOTAL-ITEMS-COUNT';\nconst SET_DATA_FETCHING= 'users/SET-DATA-FETCHING';\nconst SET_IS_FOLLOWING_FETCHING= 'users/SET-IS-FOLLOWING-FETCHING';\n\nconst initialState = {\n    users: [],\n    currentPage: 1,\n    itemsPerPage: 5,\n    totalItemsCount: 0,\n    isDataFetching: false,\n    isFollowingFetching: false,\n    followingFetchingList: [],\n};\n\nconst usersReducer = (state = initialState, {type, data}) => {\n    switch (type) {\n        case FOLLOW:\n            return {\n                ...state,\n                ...changeItemByPropName(state.users, 'id', data.id, { followed: true }),\n            };\n        case UNFOLLOW:\n            return {\n                ...state,\n                ...changeItemByPropName(state.users, 'id', data.id, { followed: false }),\n            };\n        case SET_USERS:\n            return {\n                ...state,\n                users: data.users,\n            };\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: data.page,\n            };\n        case SET_ITEMS_PER_PAGE:\n            return {\n                ...state,\n                itemsPerPage: data.count,\n            };\n        case SET_TOTAL_ITEMS_COUNT:\n            return {\n                ...state,\n                totalItemsCount: data.count,\n            };\n        case SET_DATA_FETCHING:\n            return {\n                ...state,\n                isDataFetching: data.flag,\n            };\n        case SET_IS_FOLLOWING_FETCHING:\n            const isFollowingFetching = data.flag;\n            const followingFetchingList =\n                isFollowingFetching ?\n                    [...state.followingFetchingList,data.id,]\n                    : state.followingFetchingList.filter((id) => id !== data.id);\n\n            return {\n                ...state,\n                isFollowingFetching,\n                followingFetchingList: [\n                    ...followingFetchingList,\n                ]\n            };\n        default:\n            return state;\n    }\n};\n\nexport const followAC = (id) => {\n  return {\n      type: FOLLOW,\n      data: {\n        id,\n      },\n  };\n};\nexport const unfollowAC = (id) => {\n    return {\n        type: UNFOLLOW,\n        data: {\n            id,\n        },\n    };\n};\nexport const setUsers = (users) => {\n    return {\n        type: SET_USERS,\n        data: {\n            users,\n        },\n    };\n};\nexport const setCurrentPage = (page) => {\n    return {\n        type: SET_CURRENT_PAGE,\n        data: {\n            page,\n        },\n    };\n};\nexport const setTotalItemsCount = (count) => {\n    return {\n        type: SET_TOTAL_ITEMS_COUNT,\n        data: {\n            count,\n        },\n    };\n};\nexport const setItemsPerPage = (count) => {\n    return {\n        type: SET_ITEMS_PER_PAGE,\n        data: {\n            count,\n        },\n    };\n};\nexport const setDataFetching = (flag) => {\n    return {\n        type: SET_DATA_FETCHING,\n        data: {\n            flag,\n        },\n    };\n};\nexport const setIsFollowingFetching = (flag, id) => {\n    return {\n        type: SET_IS_FOLLOWING_FETCHING,\n        data: {\n            flag,\n            id,\n        },\n    };\n};\n\nconst followUnfollowFlow = async (dispatch, apiMethod, actionCreator, id) => {\n    dispatch( setIsFollowingFetching(true, id) );\n\n    try {\n        await apiMethod(id);\n    } catch {}\n\n    actionCreator(id);\n\n    dispatch( setIsFollowingFetching(false, id) );\n};\nexport const follow = (id) => async (dispatch) => {\n    await followUnfollowFlow(dispatch, followAPI.follow, followAC, id);\n};\nexport const unfollow = (id) => async (dispatch) => {\n    await followUnfollowFlow(dispatch, followAPI.unfollow, unfollowAC, id);\n};\nexport const fetchUsers = (itemsPerPage, page) => async (dispatch) => {\n    dispatch( setDataFetching(true) );\n\n    const { data: {items, totalCount} } = await userAPI.getUsers(itemsPerPage, page);\n\n    dispatch( setDataFetching(false) );\n    dispatch( setUsers(items) );\n    dispatch( setTotalItemsCount(totalCount) );\n    dispatch( setCurrentPage(page) );\n};\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Content_content__1r8zB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"PreLoader_form__1KiUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"SidebarContainer_aside__2ZOht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"FriendsBlock_friendsBlock__1O8cg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapAvatar\":\"Avatar_wrapAvatar__luB4u\"};"],"sourceRoot":""}