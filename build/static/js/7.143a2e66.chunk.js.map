{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/pages/users/usersRow/UsersRow.module.css","components/common/userItem/UserItem.module.css","components/common/paginator/Paginator.module.css","components/common/userItem/UserItem.jsx","components/common/paginator/Paginator.jsx","components/pages/users/usersRow/UsersRow.jsx","components/pages/users/UsersContainer.jsx","redux/selectors/users.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","UserItem","user","onFollowBtnClick","followBtnDisabled","id","name","status","followed","photos","userLink","photoSmall","small","photoLarge","large","avatar","followBtnText","className","s","userItem","left","wrapAvatar","to","Avatar","image","actions","disabled","onClick","right","fullname","Paginator","totalItemsCount","itemsPerPage","currentPage","onPageClick","pagesPerPortion","currentPortion","useState","portionIndex","setPortionIndex","pagesCount","Math","ceil","portionsCount","createBtnWithPage","page","activePageClassName","active","key","portionPagesElements","visiblePages","portionStart","portionControl","generatePortionPages","map","wrapPagination","UsersRow","users","isDataFetching","followingFetchingList","usersElements","includes","usersRow","PreLoader","UsersContainer","props","fetchUsers","unfollow","follow","this","setUsers","isFollowingFetching","React","Component","connect","state","usersReducer","setCurrentPage"],"mappings":"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","file":"static/js/7.143a2e66.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersRow\":\"UsersRow_usersRow__2FdwW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"UserItem_userItem__1OE2P\",\"left\":\"UserItem_left__3XODb\",\"right\":\"UserItem_right__2YycU\",\"wrapAvatar\":\"UserItem_wrapAvatar__Z9HmK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapPagination\":\"Paginator_wrapPagination__1q1vS\",\"active\":\"Paginator_active__28aoS\"};","import React from \"react\";\n\nimport s from './UserItem.module.css';\n\nimport defaultAvatar from '../../../assets/images/profileAvatar.png';\nimport {NavLink} from \"react-router-dom\";\nimport Avatar from \"../avatar/Avatar\";\n\nconst UserItem = ({user, onFollowBtnClick, followBtnDisabled}) => {\n    const {\n        id,\n        name,\n        status,\n        followed,\n        photos,\n    } = user;\n\n    const userLink =`/profile/${id}`;\n    const photoSmall = photos.small;\n    const photoLarge = photos.large;\n    const avatar = photoSmall || photoLarge;\n\n    const followBtnText = (followed)\n        ? 'Unfollow'\n        : 'Follow';\n    const _onFollowBtnClick = () => {\n        onFollowBtnClick(user);\n    };\n\n    return (\n        <div className={s.userItem}>\n            <div className={s.left}>\n                <div className={s.wrapAvatar}>\n                    <NavLink to={userLink}>\n                        <Avatar image={avatar}/>\n                    </NavLink>\n                </div>\n                <div className={s.actions}>\n                    <button disabled={followBtnDisabled} onClick={_onFollowBtnClick}>{followBtnText}</button>\n                </div>\n            </div>\n            <div className={s.right}>\n                <NavLink to={userLink}>\n                    <span className={s.fullname}>\n                        {name}\n                    </span>\n                </NavLink>\n                <div className={s.status}>\n                    {status}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default UserItem;","import React, {useState} from \"react\";\n\nimport s from './Paginator.module.css';\n\nconst Paginator = ({totalItemsCount, itemsPerPage, currentPage, onPageClick, pagesPerPortion = 5, currentPortion = 0}) => {\n    const [portionIndex, setPortionIndex] = useState(currentPortion);\n    const pagesCount = Math.ceil(totalItemsCount / itemsPerPage);\n    const portionsCount = Math.ceil(pagesCount / pagesPerPortion);\n\n    const generatePortionPages = () => {\n        const visiblePages = [];\n        visiblePages.length = 0;\n        let portionStart = portionIndex * pagesPerPortion;\n        // to start with 1, 6, ...  not from 0, 5, ...\n        portionStart += 2;\n\n        for(let page = portionStart, portionControl = 1; page < pagesCount; page++, portionControl++) {\n\n            if(portionControl <= pagesPerPortion) {\n                visiblePages.push(page);\n            } else {\n                break;\n            }\n        }\n\n\n        return visiblePages;\n    }\n\n    const onBtnPrevPortionClick = () => {\n        setPortionIndex(portionIndex - 1);\n    };\n    const onBtnNextPortionClick = () => {\n        setPortionIndex(portionIndex + 1);\n    };\n\n    const createBtnWithPage = (page, onClick = onPageClick) => {\n        const activePageClassName = (page === currentPage) ? s.active : '';\n\n        return <li key={page}>\n            <button\n                className={ activePageClassName }\n                onClick={() => { onClick(page); }}\n            >{ page }</button>\n        </li>;\n    };\n\n    const portionPagesElements = generatePortionPages().map((page) => createBtnWithPage(page));\n\n    return (\n        <div className={s.wrapPagination}>\n            <ul>\n                { createBtnWithPage(1) }\n                { (portionIndex > 0) && createBtnWithPage('PREV', onBtnPrevPortionClick) }\n                { portionPagesElements }\n                { (portionIndex < (portionsCount - 1) ) && createBtnWithPage('NEXT', onBtnNextPortionClick) }\n                { createBtnWithPage(pagesCount) }\n            </ul>\n        </div>\n    );\n}\n\nexport default Paginator;","import React from \"react\";\n\nimport s from './UsersRow.module.css';\nimport UserItem from \"../../../common/userItem/UserItem\";\nimport PreLoader from \"../../../common/preLoader/PreLoader\";\nimport Paginator from \"../../../common/paginator/Paginator\";\n\nconst UsersRow = ({\n                      users,\n                      totalItemsCount,\n                      itemsPerPage,\n                      currentPage,\n                      onPageClick,\n                      onFollowBtnClick,\n                      isDataFetching,\n                      followingFetchingList,\n                  }) => {\n    const usersElements = users.map((user, key) => {\n        const followBtnDisabled = followingFetchingList.includes(user.id);\n        return (\n            <UserItem\n                key={key}\n                user={user}\n                followBtnDisabled={followBtnDisabled}\n                onFollowBtnClick={onFollowBtnClick}\n            />\n        );\n    });\n\n    return (\n        <div className={s.usersRow}>\n            <h3>Users</h3>\n            <Paginator\n                currentPage={currentPage}\n                itemsPerPage={itemsPerPage}\n                totalItemsCount={totalItemsCount}\n                onPageClick={onPageClick}\n            />\n            {\n                (isDataFetching) ? <PreLoader/>\n                    : <ul>{usersElements}</ul>\n            }\n        </div>\n    );\n}\n\nexport default UsersRow;","import React from \"react\";\nimport {connect} from 'react-redux';\n\nimport {\n    follow,\n    unfollow,\n    setCurrentPage,\n    fetchUsers,\n} from '../../../redux/reducers/usersReducer';\nimport {\n    getUsers,\n    getCurrentPage,\n    getItemsPerPage,\n    getTotalItemsCount,\n    getIsDataFetching,\n    getFollowingFetchingList,\n} from './../../../redux/selectors/users';\n\nimport UsersRow from './usersRow/UsersRow';\n\nclass UsersContainer extends React.Component {\n    componentDidMount() {\n        this.props.fetchUsers(this.props.itemsPerPage, this.props.currentPage);\n    }\n\n    onPageClick = (page) => {\n        this.props.fetchUsers(this.props.itemsPerPage, page);\n    }\n    onFollowBtnClick = (user) => {\n        const {id, followed} = user;\n\n        if(followed) {\n            this.props.unfollow(id)\n        } else {\n            this.props.follow(id)\n        }\n    }\n\n    render() {\n        const {\n            users,\n            totalItemsCount,\n            itemsPerPage,\n            currentPage,\n            setUsers,\n            isDataFetching,\n            isFollowingFetching,\n            followingFetchingList,\n        } = this.props;\n\n        return (\n            <UsersRow\n                users={users}\n                totalItemsCount={totalItemsCount}\n                itemsPerPage={itemsPerPage}\n                currentPage={currentPage}\n                onPageClick={this.onPageClick}\n                setUsers={setUsers}\n                onFollowBtnClick={this.onFollowBtnClick}\n                isDataFetching={isDataFetching}\n                isFollowingFetching={isFollowingFetching}\n                followingFetchingList={followingFetchingList}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    users: getUsers(state),\n    currentPage: getCurrentPage(state),\n    itemsPerPage: getItemsPerPage(state),\n    totalItemsCount: getTotalItemsCount(state),\n    isDataFetching: getIsDataFetching(state),\n    followingFetchingList: getFollowingFetchingList(state),\n});\n\nexport default connect(mapStateToProps, {\n    follow,\n    unfollow,\n    setCurrentPage,\n    fetchUsers,\n})(UsersContainer);","export const getUsers = ({usersReducer}) => usersReducer.users;\nexport const getCurrentPage = ({usersReducer}) => usersReducer.currentPage;\nexport const getItemsPerPage = ({usersReducer}) => usersReducer.itemsPerPage;\nexport const getTotalItemsCount = ({usersReducer}) => usersReducer.totalItemsCount;\nexport const getIsDataFetching = ({usersReducer}) => usersReducer.isDataFetching;\nexport const getFollowingFetchingList = ({usersReducer}) => usersReducer.followingFetchingList;\n"],"sourceRoot":""}