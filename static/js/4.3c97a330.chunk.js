(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{239:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return d}));var n=a(2),r=a(251),o=a(60),c=a(61),l=a(63),i=a(62),s=a(0),u=a.n(s),m=a(240),p=a.n(m),f=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var c=arguments.length,l=new Array(c),i=0;i<c;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).ChildElement=function(){var t=e.props,a=t.input,o=(t.childTag,t.meta,Object(r.a)(t,["input","childTag","meta"]));return u.a.createElement(e.props.childTag,Object(n.a)(Object(n.a)({},a),o))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.meta,t=e.touched,a=e.error,n=t&&a,r=this.ChildElement;return u.a.createElement("div",{className:"".concat(p.a.formControl," ").concat(n?p.a.error:"")},u.a.createElement("div",null,u.a.createElement(r,null)),u.a.createElement("div",null,u.a.createElement("span",null,n&&a)))}}]),a}(u.a.Component),b=function(e){return u.a.createElement(f,Object.assign({},e,{childTag:"input"}))},d=function(e){return u.a.createElement(f,Object.assign({},e,{childTag:"textarea"}))}},240:function(e,t,a){e.exports={formControl:"FormControl_formControl__1kqA_",error:"FormControl_error__31xnP"}},241:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e?void 0:"Field is required."}},244:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(245),c=a.n(o),l=a(124),i=a(125),s=a(239),u=a(241);t.a=Object(i.a)({form:"message"})((function(e){var t=e.handleSubmit,a=e.onSubmit;return r.a.createElement("form",{className:c.a.form,onSubmit:t(a)},r.a.createElement("div",null,r.a.createElement(l.a,{component:s.b,name:"messageText",validate:[u.a]})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Send")))}))},245:function(e,t,a){e.exports={form:"MessageForm_form__1Or3f"}},250:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(67);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},312:function(e,t,a){e.exports={profile:"ProfileContainer_profile__2rs0-"}},313:function(e,t,a){e.exports={myPosts:"MyPostsContainer_myPosts__1UP-b"}},314:function(e,t,a){e.exports={post:"PostsRow_post__h7-rA",text:"PostsRow_text__8Tmui",name:"PostsRow_name__WK6Vh",wrapAvatar:"PostsRow_wrapAvatar__iwE8t"}},315:function(e,t,a){e.exports={post:"PostItem_post__37u_R",wrapAvatar:"PostItem_wrapAvatar__Q1HaT",text:"PostItem_text__3Cj95",name:"PostItem_name__2NjH_"}},316:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__2jsTT",wrapInfo:"ProfileInfo_wrapInfo__3CZXa",wrapAvatar:"ProfileInfo_wrapAvatar__L8OEc"}},317:function(e,t,a){e.exports={wallpaper:"Wallpaper_wallpaper__1V-TE"}},318:function(e,t,a){e.exports=a.p+"static/media/wallpaper.ee722eb1.jpg"},321:function(e,t,a){"use strict";a.r(t);var n=a(60),r=a(61),o=a(63),c=a(62),l=a(0),i=a.n(l),s=a(312),u=a.n(s),m=a(72),p=a(19),f=a(313),b=a.n(f),d=a(244),v=a(314),E=a.n(v),h=a(315),_=a.n(h),j=a(65),O=function(e){var t=e.author,a=e.message,n=e.likesCount;return i.a.createElement("div",{className:_.a.post},i.a.createElement("div",{className:_.a.wrapAvatar},i.a.createElement(j.a,{image:null})),i.a.createElement("div",{className:_.a.content},i.a.createElement("div",{className:_.a.text},i.a.createElement("div",{className:_.a.name},t),i.a.createElement("div",{className:_.a.text},a)),i.a.createElement("div",{className:_.a.actions},i.a.createElement("span",null,n),i.a.createElement("button",null,"Like"))))},y=function(e){var t=e.posts.map((function(e,t){var a=e.message,n=e.author,r=e.likesCount;return i.a.createElement(O,{key:t,author:n,message:a,likesCount:r})}));return i.a.createElement("div",{className:E.a.rowPosts},t)},g={addPost:m.a},w=Object(p.b)((function(e){return{posts:(t=e,t.profileReducer.posts)};var t}),g)(function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).onAddPostFormSubmit=function(t){var a=t.messageText;e.props.addPost(a)},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.posts;return i.a.createElement("div",{className:b.a.myPosts},i.a.createElement("h3",null,"My posts"),i.a.createElement(d.a,{captchaUrl:null,onSubmit:this.onAddPostFormSubmit}),i.a.createElement(y,{posts:e}))}}]),a}(i.a.Component)),P=a(75),A=a(2),x=a(316),S=a.n(x),C=a(36),I=a(250),N=function(e){var t=e.label,a=e.updateLabel,n=e.beforeLabel,r=void 0===n?"":n,o=e.canEdit,c=void 0===o||o,s=Object(l.useState)(!1),u=Object(I.a)(s,2),m=u[0],p=u[1],f=Object(l.useState)(""),b=Object(I.a)(f,2),d=b[0],v=b[1];Object(l.useEffect)((function(){v(String(t))}),[t]);return i.a.createElement("div",null,i.a.createElement("b",null,r&&"".concat(r,": ")),!m&&i.a.createElement("span",{onClick:c?function(){p(!0)}:function(){}},t||"empty"),m&&c&&i.a.createElement("div",null,i.a.createElement("input",{onBlur:function(){p(!1),a(d)},onChange:function(e){var t=e.target;v(t.value)},type:"text",value:d,autoFocus:!0})))},k=a(52),L=function(e){var t=e.profile,a=e.status,n=e.isOwner,r=e.updateStatus,o=e.updateAvatar,c=e.updateProfile;if(!t)return i.a.createElement(C.a,null);var l=t.photos,s=t.fullName,u=t.aboutMe,m=t.lookingForAJobDescription,p=t.lookingForAJob,f=t.contacts,b=l.large||l.small,d=function(e,a){var n=t[e];Object(k.b)(n,a)||c(Object(A.a)(Object(A.a)({},t),{},Object(P.a)({},e,a)))},v=Object.keys(f).map((function(e,a){return i.a.createElement("li",{key:a},i.a.createElement(N,{canEdit:n,beforeLabel:e,label:f[e],updateLabel:function(a){!function(e,a){var n=t.contacts[e];Object(k.b)(n,a)||c(Object(A.a)(Object(A.a)({},t),{},{contacts:Object(A.a)(Object(A.a)({},t.contacts),{},Object(P.a)({},e,a))}))}(e,a)}}))}));return i.a.createElement("div",{className:S.a.profileInfo},i.a.createElement("div",{className:S.a.wrapAvatar},i.a.createElement(j.a,{image:b})),n&&i.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files;t&&o(t[0])}}),i.a.createElement("div",{className:S.a.wrapInfo},i.a.createElement("h3",null,s),i.a.createElement(N,{canEdit:n,beforeLabel:"About me",label:u,updateLabel:function(e){d("aboutMe",e)}}),i.a.createElement(N,{canEdit:n,beforeLabel:"Status",label:a,updateLabel:r}),p&&i.a.createElement(N,{canEdit:n,beforeLabel:"Looking for a job",label:m,updateLabel:function(e){d("lookingForAJobDescription",e)}}),i.a.createElement("ul",null,v)))},T=a(317),F=a.n(T),R=a(318),M=a.n(R),J=function(){return i.a.createElement("div",{className:F.a.wallpaper},i.a.createElement("img",{src:M.a,alt:"Wallpaper"}))},U=a(6),D=a(44),W={setUserProfile:m.e,fetchProfile:m.c,fetchStatus:m.d,updateStatus:m.h,updateAvatar:m.f,updateProfile:m.g},q=Object(p.b)((function(e){return{profile:(a=e,a.profileReducer.profile),status:(t=e,t.profileReducer.status),currentUserId:Object(D.a)(e)};var t,a}),W),H=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId||8364;this.props.fetchProfile(e),this.props.fetchStatus(e)}},{key:"render",value:function(){var e=this.props,t=e.profile,a=e.updateStatus,n=e.status,r=e.updateAvatar,o=e.currentUserId,c=e.updateProfile,l=Number(this.props.match.params.userId)===o;return i.a.createElement("main",{className:u.a.profile},i.a.createElement(J,null),i.a.createElement("div",{className:u.a.profileInfo},i.a.createElement(L,{profile:t,status:n,updateStatus:a,updateAvatar:r,isOwner:l,updateProfile:c}),i.a.createElement(w,null)))}}]),a}(i.a.Component);t.default=q(Object(U.f)(H))}}]);
//# sourceMappingURL=4.3c97a330.chunk.js.map